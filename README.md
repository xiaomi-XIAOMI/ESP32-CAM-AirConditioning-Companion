ESP32空调智能控制器使用说明书
一、产品简介
ESP32空调智能控制器是一款集成红外学习、WiFi远程控制和0.96寸OLED显示功能的设备。通过简单配置，即可实现对空调的开关、模式调节、温度设置、风速控制等操作，还支持睡眠模式、节能模式和定时功能。该控制器基于Arduino IDE开发，方便用户进行二次开发和功能扩展。
二、硬件连接
（一）OLED显示屏连接
| 控制器引脚 | 显示屏引脚 | 说明 |
| --- | --- | --- |
| 3.3V | VCC | 电源正极，提供3.3V工作电压 |
| GND | GND | 电源负极，接地 |
| GPIO14 | SDA | 串行数据线，用于传输数据 |
| GPIO15 | SCL | 串行时钟线，用于同步数据传输 |

（二）红外收发模块连接
1. **红外发射模块（KY - 005）**
    - 5V：连接电源正极，为发射模块供电。
    - GND：连接电源负极，接地。
    - GPIO2：连接ESP32的GPIO2引脚，用于发送红外信号。

2. **红外接收模块（VS1838B）**
    - 5V：连接电源正极，为接收模块供电。
    - GND：连接电源负极，接地。
    - GPIO4：连接ESP32的GPIO4引脚，用于接收红外信号。

三、首次使用配置
（一）开机启动
将控制器接通电源，设备开始启动。OLED显示屏将显示“ESP32空调控制器”及“正在初始化...”字样，等待约1分钟，完成系统初始化。

（二）WiFi配置
1. **AP模式连接**：设备首次启动会创建一个名为“ESP32空调控制器”的WiFi热点，密码为“xiaomi942664” 。使用手机、电脑等设备连接该热点。
2. **网页配置**：打开浏览器，输入“192.168.4.1”进入配置页面。在页面中输入家庭WiFi的SSID和密码，点击“保存配置”。
3. **连接家庭WiFi**：设备将自动尝试连接输入的家庭WiFi。连接成功后，OLED显示屏显示“WiFi连接成功”及获取到的IP地址；若连接失败，设备将保持AP模式，需重新配置。

四、红外学习
（一）进入学习模式
在网页控制界面中，点击“开始学习”按钮，OLED显示屏提示“开始红外学习，请按遥控器上的电源键”。

（二）学习操作
1. 按照显示屏提示，依次按下空调遥控器的电源、模式、温度+、温度-、风速、扫风、睡眠、节能、定时+、定时-按键。每成功学习一个按键，显示屏会显示相应按键信息及学习到的红外信号值，并提示学习下一个按键。
2. 完成所有按键学习后，设备自动保存学习结果，退出学习模式，显示屏显示“红外学习完成”。

五、功能操作
（一）网页控制
在浏览器中输入设备的IP地址（连接家庭WiFi后显示在OLED屏，AP模式下为192.168.4.1），进入控制页面。
1. **电源控制**：点击“开启”或“关闭”按钮，控制空调开关机。
2. **模式调节**：点击“切换模式”，循环切换自动、制冷、制热、送风、除湿五种模式。
3. **温度设置**：点击“温度+”或“温度-”，在16.0 - 30.0℃范围内，以0.5℃为步长调节温度。
4. **风速调节**：点击“切换风速”，在自动、低速、中低、中速、中高、高速六种风速间切换。
5. **扫风控制**：点击“切换扫风”，控制空调上下、左右扫风状态。
6. **睡眠与节能模式**：分别点击“切换睡眠”“切换节能”，开启或关闭对应模式。
7. **定时功能**：点击“增加定时”或“减少定时”，在0.0 - 12.0小时范围内，以0.5小时为步长设置定时关机时间。

（二）OLED显示信息
1. **顶部信息**：显示电源状态（开/关）和WiFi连接状态（连接/断开）。
2. **中部信息**：显示当前模式、温度数值（单位：℃）、风速状态。
3. **底部信息**：显示扫风状态（上下/左右/无）和定时时间（若设置了定时）。

## 六、故障排除
1. **WiFi连接问题**
    - 若无法连接AP热点，检查设备是否正常供电，尝试重启设备。
    - 连接家庭WiFi失败时，确认输入的SSID和密码是否正确，检查路由器是否正常工作，可尝试重启路由器后重新配置。
2. **红外控制失效**
    - 检查红外发射和接收模块的引脚连接是否正确，模块是否正常供电。
    - 重新进行红外学习操作，确保学习过程中遥控器按键按下时正对红外接收模块。
3. **OLED无显示**：检查OLED显示屏的引脚连接是否松动，确认供电正常。若问题依旧，可能是显示屏损坏，需更换新的显示屏。

七、技术参数
| 项目 | 参数 |
| --- | --- |
| 工作电压 | 3.3V（控制器）、5V（红外模块） |
| 工作温度 | -10℃ - 50℃ |
| 存储温度 | -20℃ - 60℃ |
| WiFi频段 | 2.4GHz |
| 红外发射波长 | 940nm |
| 尺寸 | 80mm×50mm×20mm |

八、注意事项
1. 请在使用前仔细阅读本说明书，按照正确步骤进行硬件连接和操作。
2. 请勿将设备暴露在潮湿、高温、强磁场环境中，以免影响设备性能或造成损坏。
3. 非专业人员请勿拆卸设备，如需维修，请联系专业技术人员。
4. 若长时间不使用设备，请断开电源，避免不必要的耗电和潜在风险。
